<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Michael's Gender Reveal Bets ðŸŽ‰</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #ffb6c1, #add8e6);
      color: #333;
      text-align: center;
      padding: 2rem;
      overflow-x: hidden;
    }
    h1 { font-size: 2.5rem; margin-bottom: 1rem; }
    input, button {
      font-size: 1rem; padding: 0.6rem 1rem;
      border-radius: 0.5rem; border: none; margin: 0.5rem;
    }
    button {
      cursor: pointer; transition: transform 0.2s, opacity 0.2s;
    }
    button:hover { transform: scale(1.05); opacity: 0.9; }
    #boyBtn { background: #4fa3ff; color: white; }
    #girlBtn { background: #ff69b4; color: white; }
    #betSection { display: none; margin-bottom: 1.5rem; z-index: 1; position: relative; }
    canvas { max-width: 400px; margin: 1.5rem auto; z-index: 1; position: relative; }
    table {
      width: 80%; margin: 1rem auto; border-collapse: collapse;
      background: rgba(255,255,255,0.8); border-radius: 1rem; overflow: hidden;
      z-index: 1; position: relative;
    }
    th, td { border: 1px solid #ddd; padding: 0.5rem; }
    th { background-color: #f4f4f4; }
    #loginSection {
      background: rgba(255,255,255,0.8);
      padding: 1rem 2rem;
      border-radius: 1rem;
      display: inline-block;
      margin-bottom: 1.5rem;
      z-index: 1; position: relative;
    }

    /* Floating background text */
    #floating-text-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      pointer-events: none;
      z-index: 0;
    }
    .floating-text {
      position: absolute;
      font-size: 1.2rem;
      font-weight: bold;
      color: rgba(255, 105, 180, 0.3);
      animation: floatText linear infinite;
      white-space: nowrap;
    }
    @keyframes floatText {
      from {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% { opacity: 0.8; }
      90% { opacity: 0.8; }
      to {
        transform: translateY(-10vh) rotate(10deg);
        opacity: 0;
      }
    }

    /* Side banners */
    .side-banner {
      position: fixed;
      top: 20%;
      width: 120px;
      background: rgba(255,255,255,0.8);
      border-radius: 1rem;
      text-align: center;
      padding: 1rem 0.5rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      animation: float 3s ease-in-out infinite;
      z-index: 999;
    }
    .side-banner.left { left: 0.5rem; }
    .side-banner.right { right: 0.5rem; }

    .ad-baby {
      font-size: 2.5rem;
      animation: cry 1s alternate infinite;
    }
    .ad-text {
      font-size: 0.9rem;
      color: #333;
      margin-top: 0.5rem;
    }

    @keyframes cry {
      0% { transform: translateY(0); }
      100% { transform: translateY(-4px) rotate(-5deg); }
    }

    @keyframes float {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    @media (max-width: 600px) {
      .side-banner { display: none; }
    }
  </style>
</head>

<body>

  <!-- Floating Background Text -->
  <div id="floating-text-container"></div>

  <!-- Side Banners -->
  <div class="side-banner left">
    <div class="ad-baby">ðŸ‘¶ðŸ˜­</div>
    <div class="ad-text">Bet on<br><strong>Boy</strong>?</div>
  </div>

  <div class="side-banner right">
    <div class="ad-baby">ðŸ‘¶ðŸ˜­</div>
    <div class="ad-text">Or is it<br><strong>Girl</strong>?</div>
  </div>

  <!-- Header -->
  <header style="background:#222; color:#fff; padding:1rem;">
    <h2>ðŸ’° Michael's Reveal Bets â€“ Play for Fun Only ðŸ’°</h2>
    <p style="margin:0; font-size:0.9rem;">1000 Free Tokens on Signup! | Odds purely for entertainment | No real money involved</p>
  </header>

  <!-- Fake ad bar -->
  <div id="adBar" style="
    display:flex; justify-content:center; gap:1rem;
    background:#333; color:#fff; padding:0.5rem; flex-wrap:wrap;
  ">
    <div style="background:#444; padding:0.5rem 1rem; border-radius:0.5rem;">ðŸŽ‰ Special Reveal Bonus Tokens!</div>
    <div style="background:#444; padding:0.5rem 1rem; border-radius:0.5rem;">ðŸ”¥ Bet Trends: 60% Girl | 40% Boy</div>
    <div style="background:#444; padding:0.5rem 1rem; border-radius:0.5rem;">ðŸ’Ž VIP Mode Unlocks Soon!</div>
  </div>

  <!-- Login Section -->
  <div id="loginSection">
    <h2>Want to Place a Bet?</h2>
    <p>Please confirm your age and enter your name:</p>
    <label>
      <input type="checkbox" id="ageCheck"> I am 18 years or older
    </label><br>
    <input type="text" id="userName" placeholder="Enter your name" /><br>
    <button id="startBtn">Start Betting</button>
  </div>

  <!-- Betting Section -->
  <div id="betSection">
    <h2>Welcome, <span id="displayName"></span>!</h2>
    <p>You have <strong id="tokenCount">1000</strong> tokens.</p>
    <input type="number" id="betAmount" min="1" placeholder="Enter tokens to bet" />
    <div>
      <button id="boyBtn">ðŸ‘¶ Bet on Boy</button>
      <button id="girlBtn">ðŸŽ€ Bet on Girl</button>
    </div>
    <button id="logoutBtn" style="margin-top: 1rem;">Log out</button>
  </div>

  <!-- Chart + Leaderboard -->
  <div id="chartSection">
    <canvas id="chart"></canvas>
    <div id="results"></div>
    <h3>Current Bettors</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Bet On</th>
          <th>Amount</th>
          <th>Remaining Tokens</th>
        </tr>
      </thead>
      <tbody id="bettorsTable"></tbody>
    </table>
  </div>

  <!-- Floating Background Script -->
  <script>
    const phrases = [
      "No more sleep ðŸ˜´",
      "Crying baby incoming ðŸ‘¶ðŸ˜­",
      "Say goodbye to free time ðŸ•’",
      "Diapers. Everywhere. ðŸ’©",
      "No more Netflix binges ðŸ“º",
      "Goodbye social life ðŸ‘‹",
      "Hope you like lullabies ðŸŽ¶",
      "Baby proof everything ðŸ¼",
      "Endless laundry ðŸ§º",
      "Get ready for chaos! ðŸ¤ª"
    ];
    const container = document.getElementById("floating-text-container");

    function createFloatingText() {
      const text = document.createElement("div");
      text.className = "floating-text";
      text.textContent = phrases[Math.floor(Math.random() * phrases.length)];
      text.style.left = Math.random() * 90 + "vw";
      text.style.animationDuration = (10 + Math.random() * 10) + "s";
      text.style.fontSize = (1 + Math.random() * 1.5) + "rem";
      text.style.color = Math.random() > 0.5
        ? "rgba(135,206,235,0.3)"
        : "rgba(255,105,180,0.3)";
      container.appendChild(text);
      setTimeout(() => container.removeChild(text), 20000);
    }

    setInterval(createFloatingText, 1500);
  </script>

  <!-- Main Betting Logic -->
  <script>
    const USERS_KEY = 'genderRevealUsers';
    const VOTES_KEY = 'genderRevealVotes';
    let votes = JSON.parse(localStorage.getItem(VOTES_KEY)) || { boy: 0, girl: 0 };
    let users = JSON.parse(localStorage.getItem(USERS_KEY)) || [];
    let currentUser = null;

    const loginSection = document.getElementById('loginSection');
    const betSection = document.getElementById('betSection');
    const chartSection = document.getElementById('chartSection');
    const tokenCount = document.getElementById('tokenCount');
    const displayName = document.getElementById('displayName');
    const betAmount = document.getElementById('betAmount');
    const bettorsTable = document.getElementById('bettorsTable');
    const ctx = document.getElementById('chart').getContext('2d');

    const chart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: ['Boy', 'Girl'],
        datasets: [{
          data: [votes.boy, votes.girl],
          backgroundColor: ['#4fa3ff', '#ff69b4']
        }]
      },
      options: {
        plugins: {
          legend: { position: 'bottom' },
          title: { display: true, text: 'Total Tokens Bet' }
        }
      }
    });

    function updateDisplay() {
      chart.data.datasets[0].data = [votes.boy, votes.girl];
      chart.update();

      const total = votes.boy + votes.girl;
      const boyPct = total ? ((votes.boy / total) * 100).toFixed(1) : 0;
      const girlPct = total ? ((votes.girl / total) * 100).toFixed(1) : 0;
      document.getElementById('results').textContent =
        `Boy: ${boyPct}% (${votes.boy}) | Girl: ${girlPct}% (${votes.girl})`;

      bettorsTable.innerHTML = users.map(u => `
        <tr>
          <td>${u.name}</td>
          <td>${u.bet ? u.bet.choice : '-'}</td>
          <td>${u.bet ? u.bet.amount : '-'}</td>
          <td>${u.tokens}</td>
        </tr>
      `).join('');
    }

    function saveAll() {
      localStorage.setItem(VOTES_KEY, JSON.stringify(votes));
      localStorage.setItem(USERS_KEY, JSON.stringify(users));
    }

    document.getElementById('startBtn').onclick = () => {
      const name = document.getElementById('userName').value.trim();
      const isAdult = document.getElementById('ageCheck').checked;
      if (!isAdult) return alert('You must be 18 or older to participate.');
      if (!name) return alert('Please enter your name.');

      let user = users.find(u => u.name.toLowerCase() === name.toLowerCase());
      if (!user) { user = { name, tokens: 1000, bet: null }; users.push(user); }

      currentUser = user;
      displayName.textContent = currentUser.name;
      tokenCount.textContent = currentUser.tokens;
      loginSection.style.display = 'none';
      betSection.style.display = 'block';
      updateDisplay();
    };

    document.getElementById('logoutBtn').onclick = () => {
      currentUser = null;
      betSection.style.display = 'none';
      loginSection.style.display = 'inline-block';
      document.getElementById('userName').value = '';
      document.getElementById('ageCheck').checked = false;
    };

    function placeBet(choice) {
      if (!currentUser) return alert('Please sign in first!');
      const amount = parseInt(betAmount.value);
      if (isNaN(amount) || amount <= 0) return alert('Enter a valid bet amount.');
      if (amount > currentUser.tokens) return alert('Not enough tokens!');

      currentUser.tokens -= amount;
      currentUser.bet = { choice, amount };
      votes[choice] += amount;

      const idx = users.findIndex(u => u.name === currentUser.name);
      if (idx >= 0) users[idx] = currentUser;

      saveAll();
      tokenCount.textContent = currentUser.tokens;
      betAmount.value = '';
      updateDisplay();
    }

    document.getElementById('boyBtn').onclick = () => placeBet('boy');
    document.getElementById('girlBtn').onclick = () => placeBet('girl');

    loginSection.style.display = 'inline-block';
    chartSection.style.display = 'block';
    betSection.style.display = 'none';
    updateDisplay();
  </script>

  <!-- Bottom Ticker -->
  <div id="ticker" style="
    position:fixed; bottom:0; left:0; width:100%;
    background:#111; color:#fff; padding:0.3rem;
    font-size:1rem; white-space:nowrap; overflow:hidden;
  ">
    <span id="tickerText"></span>
  </div>

  <script>
    const headlines = [
      "Breaking: Aunt Sarah doubles down on Girl!",
      "Uncle Tom hedges 500 on Boy!",
      "Grandma says 'Itâ€™s definitely twins!'",
      "VIP bonus: +100 tokens for early guesses!",
      "Reveal countdown underwayâ€¦ stay tuned!"
    ];
    let i = 0;
    const tickerText = document.getElementById('tickerText');
    function rotateTicker() {
      tickerText.textContent = headlines[i];
      i = (i + 1) % headlines.length;
    }
    rotateTicker();
    setInterval(rotateTicker, 3000);
  </script>

</body>
</html>
